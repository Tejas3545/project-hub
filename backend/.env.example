# ============================================================================
# SECURITY WARNING: NEVER COMMIT .env FILE TO VERSION CONTROL
# Copy this file to .env and fill in your actual values
# ============================================================================

# Database Configuration - Supabase PostgreSQL
# Using Transaction Pooler (recommended for Node.js applications)
DATABASE_URL=postgresql://username:password@host:6543/database?pgbouncer=true&connection_limit=5&pool_timeout=30
DIRECT_URL=postgresql://username:password@host:5432/database

# Server Configuration
PORT=5000
NODE_ENV=development

# ============================================================================
# JWT Configuration - CRITICAL: Use strong, random secrets in production
# Generate with: openssl rand -hex 32
# ============================================================================
JWT_SECRET=your_jwt_secret_here_generate_with_openssl_rand_hex_32
JWT_REFRESH_SECRET=your_jwt_refresh_secret_here_generate_with_openssl_rand_hex_32
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============================================================================
# CORS Configuration - CRITICAL: Set exact production URLs before deployment
# NO wildcards in production! Add all legitimate frontend URLs
# ============================================================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
# Set to 'false' in production to block requests without Origin header (prevents CSRF)
ALLOW_NO_ORIGIN_REQUESTS=true

# ============================================================================
# Rate Limiting Configuration - Configurable per environment
# Adjust based on expected traffic and API performance
# ============================================================================
RATE_LIMIT_WINDOW_MS=900000          # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100          # General API limit per window
RATE_LIMIT_AUTH_MAX=5                # Login attempts per window
RATE_LIMIT_REGISTER_MAX=3            # Registration per hour
RATE_LIMIT_WRITE_MAX=30              # Write operations per window
RATE_LIMIT_SEARCH_MAX=20             # Search queries per minute

# ============================================================================
# GitHub API Token (Required for scraping) - DO NOT COMMIT
# Get from: https://github.com/settings/tokens
# Required scope: public_repo
# Increases rate limit from 60/hour to 5000/hour
# ============================================================================
GITHUB_TOKEN=your_github_personal_access_token_here

# Frontend URL
FRONTEND_URL=http://localhost:3000
